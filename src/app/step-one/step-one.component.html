<h1>Step 1: Choose your Model and color</h1>

<form [formGroup]="stepsForm">
  <fieldset>
    <legend>Model and color</legend>
    <div formGroupName="model" class="row">
      <div class="col-sm-12 col-md-6">
        <label for="modelSelect">Model</label>
        <select id="modelSelect" formControlName="modelCode" style="width: 85%" class="doc">
          <option [ngValue]="null" disabled class="doc">Choose...</option>
          <option
            *ngFor="let carModel of carModels"
            [ngValue]="carModel.code"
            class="doc"
          >
            {{ carModel.description }}
          </option>
        </select>
      </div>
      <div
        *ngIf="(selectedModel$ | async) as selectedModel"
        class="col-sm-12 col-md-6"
      >
        <label for="colorSelect">Color</label>
        <select id="colorSelect" formControlName="modelColor" style="width: 85%" class="doc">
          <option
            *ngFor="let selectedModelColor of selectedModel.colors"
            [ngValue]="selectedModelColor.code"
            class="doc"
          >
            {{ selectedModelColor.description }}
          </option>
        </select>
      </div>
    </div>
  </fieldset>
</form>

<div *ngIf="modelCode && modelColor">
  <img
    appCarModelImg
    [carModelCode]="modelCode"
    [carColorCode]="modelColor"
  />
</div>
